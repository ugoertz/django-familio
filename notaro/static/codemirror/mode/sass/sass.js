'use strict';(function(f){"object"==typeof exports&&"object"==typeof module?f(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],f):f(CodeMirror)})(function(f){f.defineMode("sass",function(f){function k(a,b){var c=a.peek();if(")"===c)return a.next(),b.tokenizer=g,"operator";if("("===c)return a.next(),a.eatSpace(),"operator";b.tokenizer="'"===c||'"'===c?h(a.next()):h(")",!1);return"string"}function l(a,b){return function(c,d){if(c.sol()&&c.indentation()<=
a)return d.tokenizer=g,g(c,d);b&&c.skipTo("*/")?(c.next(),c.next(),d.tokenizer=g):c.skipToEnd();return"comment"}}function h(a,b){function c(d,f){var e=d.next(),m=d.peek(),h=d.string.charAt(d.pos-2);return"\\"!==e&&m===a||e===a&&"\\"!==h?(e!==a&&b&&d.next(),f.tokenizer=g,"string"):"#"===e&&"{"===m?(f.tokenizer=n(c),d.next(),"operator"):"string"}null==b&&(b=!0);return c}function n(a){return function(b,c){return"}"===b.peek()?(b.next(),c.tokenizer=a,"operator"):g(b,c)}}function e(a){0==a.indentCount&&
(a.indentCount++,a.scopes.unshift({offset:a.scopes[0].offset+f.indentUnit}))}function g(a,b){var c=a.peek();if(a.match("/*"))return b.tokenizer=l(a.indentation(),!0),b.tokenizer(a,b);if(a.match("//"))return b.tokenizer=l(a.indentation(),!1),b.tokenizer(a,b);if(a.match("#{"))return b.tokenizer=n(g),"operator";if('"'===c||"'"===c)return a.next(),b.tokenizer=h(c),"string";if(b.cursorHalf){if("#"===c&&(a.next(),a.match(/[0-9a-fA-F]{6}|[0-9a-fA-F]{3}/))||a.match(/^-?[0-9\.]+/))return a.peek()||(b.cursorHalf=
0),"number";if(a.match(/^(px|em|in)\b/))return a.peek()||(b.cursorHalf=0),"unit";if(a.match(p))return a.peek()||(b.cursorHalf=0),"keyword";if(a.match(/^url/)&&"("===a.peek())return b.tokenizer=k,a.peek()||(b.cursorHalf=0),"atom";if("$"===c)return a.next(),a.eatWhile(/[\w-]/),a.peek()||(b.cursorHalf=0),"variable-3";if("!"===c)return a.next(),a.peek()||(b.cursorHalf=0),a.match(/^[\w]+/)?"keyword":"operator";if(a.match(q))return a.peek()||(b.cursorHalf=0),"operator";if(a.eatWhile(/[\w-]/))return a.peek()||
(b.cursorHalf=0),"attribute";if(!a.peek())return b.cursorHalf=0,null}else{if("."===c&&(a.next(),a.match(/^[\w-]+/)||"#"===a.peek())||"#"===c&&(a.next(),a.match(/^[\w-]+/)||"#"===a.peek()))return e(b),"atom";if("$"===c)return a.next(),a.eatWhile(/[\w-]/),"variable-2";if(a.match(/^-?[0-9\.]+/))return"number";if(a.match(/^(px|em|in)\b/))return"unit";if(a.match(p))return"keyword";if(a.match(/^url/)&&"("===a.peek())return b.tokenizer=k,"atom";if("="===c&&a.match(/^=[\w-]+/))return e(b),"meta";if("+"===
c&&a.match(/^\+[\w-]+/))return"variable-3";"@"===c&&a.match(/@extend/)&&!a.match(/\s*[\w]/)&&1!=b.scopes.length&&b.scopes.shift();if(a.match(/^@(else if|if|media|else|for|each|while|mixin|function)/))return e(b),"meta";if("@"===c)return a.next(),a.eatWhile(/[\w-]/),"meta";if(a.eatWhile(/[\w-]/)){if(a.match(/ *: *[\w-\+\$#!\("']/,!1))return"property";a.match(/ *:/,!1)?(e(b),b.cursorHalf=1):a.match(/ *,/,!1)||e(b);return"atom"}if(":"===c){if(a.match(r))return"keyword";a.next();b.cursorHalf=1;return"operator"}}if(a.match(q))return"operator";
a.next();return null}var p=/^true|false|null|auto/,q=/^\(|\)|=|>|<|==|>=|<=|\+|-|\!=|\/|\*|%|and|or|not|;|\{|\}|:/,r=/^::?[a-zA-Z_][\w\-]*/;return{startState:function(){return{tokenizer:g,scopes:[{offset:0,type:"sass"}],indentCount:0,cursorHalf:0,definedVars:[],definedMixins:[]}},token:function(a,b){a.sol()&&(b.indentCount=0);var c=b.tokenizer(a,b),d=a.current();"@return"!==d&&"}"!==d||1==b.scopes.length||b.scopes.shift();if(null!==c){for(var d=a.pos-d.length+f.indentUnit*b.indentCount,e=[],g=0;g<
b.scopes.length;g++){var h=b.scopes[g];h.offset<=d&&e.push(h)}b.scopes=e}b.lastToken={style:c,content:a.current()};return c},indent:function(a){return a.scopes[0].offset}}});f.defineMIME("text/x-sass","sass")});
